import{c as $,P as q}from"./vendor.1268565c.js";const V=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const y of u.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&n(y)}).observe(document,{childList:!0,subtree:!0});function I(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerpolicy&&(u.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?u.credentials="include":o.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(o){if(o.ep)return;o.ep=!0;const u=I(o);fetch(o.href,u)}};V();const Z=new URL("data:text/csv;base64,IkRpc3RhbmNpYSAoa2lsw7NtZXRyb3MpIiwiQm9nb3TDoSIsIkNhbGkiLCJNZWRlbGzDrW4iLCJCYXJyYW5xdWlsbGEiLCJDYXJ0YWdlbmEiLCJDw7pjdXRhIiwiQnVjYXJhbWFuZ2EiLCJQZXJlaXJhIiwiU2FudGEgTWFydGEiLCJJYmFndcOpIiwiUGFzdG8iLCJNYW5pemFsZXMiLCJOZWl2YSIsIlZpbGxhdmljZW5jaW8iLCJBcm1lbmlhIgoiQm9nb3TDoSIsIiIsIjQ2MyIsIjQxOSIsIjEwMDkiLCIxMDUyIiwiNTk5IiwiNDA5IiwiMzIyIiwiOTY4IiwiMTkzIiwiNzY0IiwiMzE3IiwiMzAxIiwiMTEwIiwiMjc1IgoiQ2FsaSIsIjQ2MSIsIiIsIjQ0MCIsIjExNDQiLCIxMDk4IiwiOTg0IiwiNzg1IiwiMjE1IiwiMTIzMSIsIjI3NCIsIjM5MyIsIjI2OCIsIjM4MiIsIjU1OCIsIjE4NyIKIk1lZGVsbMOtbiIsIjQxOSIsIjQzOSIsIiIsIjcwNCIsIjY1OSIsIjU5MiIsIjM5MiIsIjIyNCIsIjc5NSIsIjM2MSIsIjgxNiIsIjIwOSIsIjU5MCIsIjUyOSIsIjI4MCIKIkJhcnJhbnF1aWxsYSIsIjEwMDYiLCIxMTM5IiwiNzAyIiwiIiwiMTIyIiwiNjY5IiwiNjQyIiwiOTI0IiwiMTAyIiwiOTkxIiwiMTUxNyIsIjkxMCIsIjExNzgiLCIxMTE3IiwiOTgwIgoiQ2FydGFnZW5hIiwiMTA3OCIsIjEwOTQiLCI2NTYiLCIxMjQiLCIiLCI3NDAiLCI3MTMiLCI4NzkiLCIyMjUiLCIxMDE1IiwiMTQ3MSIsIjg2NCIsIjEyNDkiLCIxMTg4IiwiOTM0IgoiQ8O6Y3V0YSIsIjU5NiIsIjk4MiIsIjU5MCIsIjY2OSIsIjc0MSIsIiIsIjIwMCIsIjc2NyIsIjYyOCIsIjcwNSIsIjEzNTQiLCI3MTgiLCI4OTEiLCI3MDYiLCI3ODkiCiJCdWNhcmFtYW5nYSIsIjQwNyIsIjc4MyIsIjM5MSIsIjY0MyIsIjcxNSIsIjIwMSIsIiIsIjU2OCIsIjYwMiIsIjUwNiIsIjExNTUiLCI1MTkiLCI2OTIiLCI1MTciLCI1OTAiCiJQZXJlaXJhIiwiMzIxIiwiMjE2IiwiMjI2IiwiOTMwIiwiODg0IiwiNzcwIiwiNTcwIiwiIiwiMTAxNyIsIjEzNCIsIjU5MyIsIjU0IiwiMzM2IiwiNDE4IiwiNTMiCiJTYW50YSBNYXJ0YSIsIjk2NiIsIjEyMjkiLCI3OTMiLCIxMDEiLCIyMjMiLCI2MjkiLCI2MDIiLCIxMDE0IiwiIiwiOTUxIiwiMTYwMCIsIjk2NCIsIjExMzgiLCIxMDc3IiwiMTAzNSIKIkliYWd1w6kiLCIxOTIiLCIyNzUiLCIzNjIiLCI5OTIiLCIxMDM1IiwiNzA1IiwiNTA1IiwiMTMzIiwiOTUxIiwiIiwiNjY5IiwiMTkwIiwiMjA2IiwiMjg4IiwiODYiCiJQYXN0byIsIjc2MiIsIjM5MSIsIjgxNyIsIjE1MjAiLCIxNDc1IiwiMTM1MyIsIjExNTQiLCI1OTIiLCIxNjAwIiwiNjcwIiwiIiwiNjQ0IiwiNDY0IiwiODU5IiwiNTY0IgoiTWFuaXphbGVzIiwiMzE0IiwiMjY3IiwiMjA5IiwiOTEyIiwiODY3IiwiNzE4IiwiNTE4IiwiNTIiLCI5NjQiLCIxODgiLCI2NDQiLCIiLCIzOTEiLCI0MjQiLCIxMDgiCiJOZWl2YSIsIjMwMCIsIjM4MSIsIjU2NSIsIjExNzkiLCIxMjIxIiwiODkxIiwiNjkxIiwiMzM2IiwiMTEzOCIsIjIwNyIsIjQ2NSIsIjM5MyIsIiIsIjM5NyIsIjI4OSIKIlZpbGxhdmljZW5jaW8iLCIxMDgiLCI1NTkiLCI1MjciLCIxMTE3IiwiMTE2MCIsIjcwNyIsIjUxNyIsIjQxOCIsIjEwNzYiLCIyODkiLCI4NjAiLCI0MjQiLCIzOTciLCIiLCIzNzAiCiJBcm1lbmlhIiwiMjc0IiwiMTg4IiwiMjgyIiwiOTg1IiwiOTQwIiwiNzg5IiwiNTkwIiwiNTMiLCIxMDM2IiwiODciLCI1NjUiLCIxMTAiLCIyODkiLCIzNzEiLCIi",self.location).href,K=new URL("data:text/csv;base64,IlRpZW1wbyBkZSBjb25kdWNjacOzbiIsIkJvZ290w6EiLCJDYWxpIiwiTWVkZWxsw61uIiwiQmFycmFucXVpbGxhIiwiQ2FydGFnZW5hIiwiQ8O6Y3V0YSIsIkJ1Y2FyYW1hbmdhIiwiUGVyZWlyYSIsIlNhbnRhIE1hcnRhIiwiSWJhZ3XDqSIsIlBhc3RvIiwiTWFuaXphbGVzIiwiTmVpdmEiLCJWaWxsYXZpY2VuY2lvIiwiQXJtZW5pYSIKIkJvZ290w6EiLCIiLCI2OjI3IiwiNTo0NSIsIjEyOjA0IiwiMTM6MzQiLCI3OjE4IiwiNTowNSIsIjQ6NDIiLCIxMTozMCIsIjI6MzkiLCIxMTowMiIsIjQ6MTgiLCIzOjQ5IiwiMToyOCIsIjQ6MDgiCiJDYWxpIiwiNjoyNyIsIiIsIjU6NDMiLCIxNDoyMyIsIjEzOjU0IiwiMTI6MjUiLCIxMDoxMCIsIjI6MzkiLCIxNTowNyIsIjM6NTQiLCI3OjA2IiwiMzoyMCIsIjY6MjUiLCI3OjQxIiwiMjoyMiIKIk1lZGVsbMOtbiIsIjU6NDMiLCI1OjQ1IiwiIiwiODo0MSIsIjg6MTIiLCI3OjUzIiwiNTozOCIsIjM6MDkiLCI5OjQ2IiwiNToxOSIsIjEyOjM4IiwiMjo1NyIsIjc6NTAiLCI3OjExIiwiMzo0OSIKIkJhcnJhbnF1aWxsYSIsIjEyOjAyIiwiMTQ6MTUiLCI4OjMyIiwiIiwiMTo1MyIsIjg6NTEiLCI3OjU1IiwiMTE6NDAiLCIxOjE1IiwiMTE6NTMiLCIyMTowOSIsIjExOjI4IiwiMTQ6MDkiLCIxMzozMCIsIjEyOjIwIgoiQ2FydGFnZW5hIiwiMTM6NDMiLCIxMzo1MyIsIjg6MTAiLCIxOjUwIiwiIiwiMTA6MzEiLCI5OjM2IiwiMTE6MTciLCIzOjA0IiwiMTM6MjciLCIyMDo0NiIsIjExOjA1IiwiMTU6NTAiLCIxNToxMSIsIjExOjU3IgoiQ8O6Y3V0YSIsIjc6MTQiLCIxMjoyNiIsIjc6NDMiLCI4OjUxIiwiMTA6MjMiLCIiLCIyOjE3IiwiOTo1MCIsIjg6MTciLCI4OjM3IiwiMTg6MDciLCI5OjA4IiwiMTA6NTQiLCI4OjQyIiwiMTA6MTEiCiJCdWNhcmFtYW5nYSIsIjU6MDEiLCIxMDoxMiIsIjU6MzAiLCI3OjU2IiwiOToyOSIsIjI6MTgiLCIiLCI3OjM2IiwiNzoyMiIsIjY6MjQiLCIxNTo1MyIsIjY6NTQiLCI4OjQwIiwiNjoyOSIsIjc6NTciCiJQZXJlaXJhIiwiNDo0NCIsIjI6NDAiLCIzOjA5IiwiMTE6NTAiLCIxMToyMCIsIjk6NTIiLCI3OjM3IiwiIiwiMTI6MzMiLCIyOjExIiwiOTozMyIsIjA6NDciLCI0OjQzIiwiNTo1OCIsIjA6NDIiCiJTYW50YSBNYXJ0YSIsIjExOjI4IiwiMTU6MDciLCI5OjM3IiwiMToxNCIsIjM6MDYiLCI4OjE2IiwiNzoyMSIsIjEyOjMxIiwiIiwiMTE6MTgiLCIyMDo0OCIsIjExOjQ5IiwiMTM6MzUiLCIxMjo1NiIsIjEyOjUyIgoiSWJhZ3XDqSIsIjI6NDAiLCIzOjU1IiwiNToxOCIsIjExOjUzIiwiMTM6MjMiLCI4OjM3IiwiNjoyMiIsIjI6MTAiLCIxMToxOSIsIiIsIjk6NTEiLCIyOjU1IiwiMjozOCIsIjM6NTMiLCIxOjM2IgoiUGFzdG8iLCIxMTowMiIsIjc6MDUiLCIxMjozNyIsIjIxOjE3IiwiMjA6NDgiLCIxODowNiIsIjE1OjUxIiwiOTozMiIsIjIwOjQ3IiwiOTo1MSIsIiIsIjEwOjE0IiwiNzoxMSIsIjEyOjE1IiwiOToxNiIKIk1hbml6YWxlcyIsIjQ6MTciLCIzOjIyIiwiMjo1NyIsIjExOjM3IiwiMTE6MDgiLCI5OjA5IiwiNjo1NCIsIjA6NDYiLCIxMTo1MCIsIjI6NTUiLCIxMDoxNSIsIiIsIjU6MjciLCI1OjQ1IiwiMToyNiIKIk5laXZhIiwiMzo1MyIsIjY6MjUiLCI3OjUzIiwiMTQ6MTIiLCIxNTo0MiIsIjEwOjU2IiwiODo0MSIsIjQ6NDUiLCIxMzozOCIsIjI6NDIiLCI3OjE1IiwiNTozMCIsIiIsIjU6MDYiLCI0OjExIgoiVmlsbGF2aWNlbmNpbyIsIjE6MjciLCI3OjQxIiwiNzoxMSIsIjEzOjI5IiwiMTU6MDAiLCI4OjQ0IiwiNjozMCIsIjU6NTYiLCIxMjo1NSIsIjM6NTMiLCIxMjoxNiIsIjU6NDQiLCI1OjAzIiwiIiwiNToyMiIKIkFybWVuaWEiLCI0OjEwIiwiMjoyNCIsIjM6NDkiLCIxMjozMCIsIjEyOjAwIiwiMTA6MTAiLCI3OjU1IiwiMDo0MiIsIjEyOjUxIiwiMTozNiIsIjk6MTciLCIxOjI3IiwiNDowOCIsIjU6MjMiLCIi",self.location).href;let Y,A,Q,j=[],w,c,N,p,S,z,g=0;const s={isStartOkay:!1,startValue:null,isFinishOkay:!1,finishValue:null};let l={unit:"distance",algorithm:"cyto-dijkstra"};document.querySelector("#cy");const U=document.querySelector("#reset-button"),M=document.querySelector("#directions-button"),a=document.querySelector("#start-input"),r=document.querySelector("#finish-input"),C=document.querySelector("#reverse-button"),T=document.querySelector("#distance-button"),k=document.querySelector("#time-button"),L=document.querySelector("#cyto-dijkstra-button"),f=document.querySelector("#cyto-astar-button"),O=document.querySelector("#analysis-summary-text"),F=document.querySelector("#analysis-placeholder-text"),m=document.querySelector("#distance-time-info-container"),b=document.querySelector("#execution-time-info-container");function x(e){e.classList.add("bg-white","text-black","hover:bg-gray-200"),e.classList.remove("hover:border-gray-300","hover:text-gray-300"),e.querySelector("#bordered-circle").classList.add("hidden"),e.querySelector("#check-icon").classList.remove("hidden")}function h(e){e.classList.add("text-white","hover:border-gray-300","hover:text-gray-300","border"),e.classList.remove("bg-white","hover:bg-gray-200","text-black"),e.querySelector("#bordered-circle").classList.remove("hidden"),e.querySelector("#check-icon").classList.add("hidden")}function E(e){switch(e.target.id){case"distance-button":l.unit="distance",M.dispatchEvent(new Event("click")),x(T),h(k);break;case"time-button":l.unit="time",M.dispatchEvent(new Event("click")),x(k),h(T);break;case"cyto-dijkstra-button":l.algorithm="cyto-dijkstra",M.dispatchEvent(new Event("click")),x(L),h(f);break;case"cyto-astar-button":l.algorithm="cyto-astar",M.dispatchEvent(new Event("click")),x(f),h(L);break;case"our-dijkstra-button":l.algorithm="our-dijkstra",M.dispatchEvent(new Event("click")),h(L),h(f);break}}T.addEventListener("click",E);k.addEventListener("click",E);L.addEventListener("click",E);f.addEventListener("click",E);window.addEventListener("resize",e=>{!w||(w.resize(),w.fit(30))});window.addEventListener("keydown",e=>{if(e.altKey&&e.key==="l"){if(!w)return;w.resize(),w.fit(30)}if(e.ctrlKey&&e.altKey&&e.key==="r"?U.dispatchEvent(new Event("click")):e.altKey&&e.key==="r"&&C.dispatchEvent(new Event("click")),e.ctrlKey&&e.altKey&&e.key==="d"&&M.dispatchEvent(new Event("click")),e.altKey&&e.key==="1"?T.dispatchEvent(new Event("click")):e.altKey&&e.key==="2"?k.dispatchEvent(new Event("click")):e.altKey&&e.key==="3"?L.dispatchEvent(new Event("click")):e.altKey&&e.key==="4"?f.dispatchEvent(new Event("click")):e.altKey&&e.key==="5",e.key==="/"&&document.activeElement!==a&&(e.preventDefault(),a.focus(),a.select()),e.key==="Tab"&&document.activeElement===a&&!s.isStartOkay){const t=j.filter(I=>I.startsWith(d(a.value)));if(t.length>1||!t.length)return;a.value=t[0],a.dispatchEvent(new Event("input"))}else if(e.key==="Tab"&&document.activeElement===r&&!s.isFinishOkay){const t=j.filter(I=>I.startsWith(d(r.value)));if(t.length>1||!t.length)return;r.value=t[0],r.dispatchEvent(new Event("input"))}});a.addEventListener("input",e=>{s.startValue=d(a.value),a.value&&j&&!j.includes(d(a.value))?(s.isStartOkay=!1,a.classList.remove("border-teal-300"),a.classList.remove("text-teal-300"),a.classList.add("border-red-400"),a.classList.add("text-red-400"),(!s.isFinishOkay||!s.isStartOkay&&s.startValue===s.finishValue)&&(M.disabled=!0,C.disabled=!0)):a.value&&j&&j.includes(d(a.value))?(s.isStartOkay=!0,a.classList.remove("border-red-400"),a.classList.remove("text-red-400"),a.classList.add("border-teal-300"),a.classList.add("text-teal-300"),s.isFinishOkay&&s.isStartOkay&&s.startValue!==s.finishValue&&(M.disabled=!1,C.disabled=!1)):(s.isStartOkay=!1,a.classList.remove("border-red-400"),a.classList.remove("text-red-400"),a.classList.remove("border-teal-300"),a.classList.remove("text-teal-300"),(!s.isFinishOkay||!s.isStartOkay||s.startValue===s.finishValue)&&(M.disabled=!0,C.disabled=!0))});r.addEventListener("input",e=>{s.finishValue=d(r.value),r.value&&j&&!j.includes(d(r.value))?(s.isFinishOkay=!1,r.classList.remove("border-teal-300"),r.classList.remove("text-teal-300"),r.classList.add("border-red-400"),r.classList.add("text-red-400"),(!s.isFinishOkay||!s.isStartOkay&&s.startValue===s.finishValue)&&(M.disabled=!0,C.disabled=!0)):r.value&&j&&j.includes(d(r.value))?(s.isFinishOkay=!0,r.classList.remove("border-red-400"),r.classList.remove("text-red-400"),r.classList.add("border-teal-300"),r.classList.add("text-teal-300"),s.isFinishOkay&&s.isStartOkay&&s.startValue!==s.finishValue&&(M.disabled=!1,C.disabled=!1)):(s.isFinishOkay=!1,r.classList.remove("border-red-400"),r.classList.remove("text-red-400"),r.classList.remove("border-teal-300"),r.classList.remove("text-teal-300"),(!s.isFinishOkay||!s.isStartOkay||s.startValue===s.finishValue)&&(M.disabled=!0,C.disabled=!0))});U.addEventListener("click",e=>{l.unit!=="distance"&&(x(T),h(k)),l.algorithm!=="cyto-dijkstra"&&(x(L),h(f)),l={unit:"distance",algorithm:"cyto-dijkstra"},g=0,F.classList.remove("hidden"),m.classList.add("hidden"),b.classList.add("hidden"),O.classList.add("hidden"),a.value="",r.value="",a.dispatchEvent(new Event("input")),r.dispatchEvent(new Event("input")),a.focus(),w.destroy(),w=null,J()});M.addEventListener("click",e=>{!s.isFinishOkay||!s.isStartOkay||s.startValue===s.finishValue||(S=d(a.value),z=d(r.value),!(!S||!z)&&(c&&c.forEach((t,I)=>{t._private.data.id===d(a.value)&&(t.removeClass("node-selected-finish"),t.addClass("node-selected-start")),t._private.data.id===d(r.value)&&(t.removeClass("node-selected-start"),t.addClass("node-selected-finish")),t._private.data.id!==d(a.value)&&t._private.data.id!==d(r.value)&&t.removeClass("node-selected-start node-selected-finish node-selected edge-selected-unique edge-selected-start edge-selected-finish edge-selected")}),te(S,z),F.classList.add("hidden"),m.classList.remove("hidden"),b.classList.remove("hidden"),O.classList.remove("hidden"),O.querySelector("h2").textContent=l.unit==="distance"?"SHORTEST PATH":"FASTEST PATH",O.querySelector("h3").textContent=`${c[0]._private.data.label} \u2014\u2014 ${c[c.length-1]._private.data.label}`,O.querySelector("h4").textContent=l.algorithm==="cyto-dijkstra"?"CYTOSCAPE'S DIJKSTRA":l.algorithm==="cyto-astar"?"CYTOSCAPE'S ASTAR":"OUR OWN DIJKSTRA",l.unit==="time"?(m.querySelector("h3").textContent="TRAVEL TIME",m.querySelector("h2").textContent=H(N),b.querySelector("h2").textContent=`${p.toFixed(2)}ms`):(m.querySelector("h3").textContent="TRAVEL DISTANCE",m.querySelector("h2").textContent=`${new Intl.NumberFormat().format(N)}km`,b.querySelector("h2").textContent=`${p.toFixed(2)}ms`)))});C.addEventListener("click",e=>{if(!s.isFinishOkay||!s.isStartOkay||s.startValue===s.finishValue)return;const t=a.value;a.value=r.value,a.dispatchEvent(new Event("input")),r.value=t,r.dispatchEvent(new Event("input")),M.focus()});const i={black:"#000",white:"#fff",red:"#f00",aqua:"aqua",aquadark:"#00cccc",aquadarker:"#006666",aqualight:"#87fff5",gray:"#636363",yellow:"#fff8a6",yellodark:"#5e5701",pink:"#ff8aad",purple:"#9147ff"},G=[{selector:"node",style:{"background-color":i.white,label:function(e){return e.data("label").length<=7?e.data("label"):`${e.data("label").slice(0,7)}.`},color:i.black,"text-halign":"center","text-valign":"center",width:100,height:100,"font-size":20,"font-weight":"bold","border-width":10,"border-color":i.white}}],X=[{selector:"edge",style:{"transition-property":"line-color","transition-duration":"0.2s",width:1,"curve-style":"straight","line-style":"solid","font-size":12,"target-arrow-shape":"triangle","target-arrow-color":i.gray,"line-color":i.gray,color:i.aqua}}],R=[{selector:".node-selected",style:{"background-color":i.black,"border-width":10,"border-color":i.yellow,color:i.yellow}},{selector:".node-selected-start",style:{"transition-property":"background-color border-color","transition-duration":"0.2s","transition-timing-function":"ease-in-sine","background-color":i.black,"border-width":10,"border-color":i.aqualight,color:i.aqualight}},{selector:".node-selected-finish",style:{"transition-property":"background-color border-color","transition-duration":"0.2s","transition-timing-function":"ease-in-sine","background-color":i.black,"border-width":10,"border-color":i.pink,color:i.pink}},{selector:".node-selected-options",style:{"background-color":i.black,"border-width":5,"border-color":i.white,color:i.white}}],B=[{selector:".edge-selected",style:{width:10,"line-color":i.yellow,"target-arrow-color":i.yellow,"z-index":100,label:function(e){return l.unit==="distance"?`${new Intl.NumberFormat().format(e.data("distance"))}km`:`${e.data("time-label")}`},"text-background-color":i.yellow,"text-background-opacity":1,"text-background-shape":"round-rectangle","text-background-padding":"10px",color:i.yellodark,"font-size":"25px","font-weight":"bold"}},{selector:".edge-selected-unique",style:{width:10,"target-arrow-color":i.pink,"z-index":100,label:function(e){return l.unit==="distance"?`${new Intl.NumberFormat().format(e.data("distance"))}km`:`${e.data("time-label")}`},"text-background-color":i.yellow,"text-background-opacity":1,"text-background-shape":"round-rectangle","text-background-padding":"10px",color:i.yellodark,"font-size":"25px","font-weight":"bold","line-fill":"linear-gradient","line-gradient-stop-colors":`${i.aqualight} ${i.yellow} ${i.pink}`}},{selector:".edge-selected-start",style:{width:10,"target-arrow-color":i.yellow,"z-index":100,label:function(e){return l.unit==="distance"?`${new Intl.NumberFormat().format(e.data("distance"))}km`:`${e.data("time-label")}`},"text-background-color":i.yellow,"text-background-opacity":1,"text-background-shape":"round-rectangle","text-background-padding":"10px",color:i.yellodark,"font-size":"25px","font-weight":"bold","line-fill":"linear-gradient","line-gradient-stop-colors":`${i.aqualight} ${i.yellow} ${i.yellow}`}},{selector:".edge-selected-finish",style:{width:10,"target-arrow-color":i.pink,"z-index":100,label:function(e){return l.unit==="distance"?`${new Intl.NumberFormat().format(e.data("distance"))}km`:`${e.data("time-label")}`},"text-background-color":i.yellow,"text-background-opacity":1,"text-background-shape":"round-rectangle","text-background-padding":"10px",color:i.yellodark,"font-size":"25px","font-weight":"bold","line-fill":"linear-gradient","line-gradient-stop-colors":`${i.yellow} ${i.yellow} ${i.pink}`}},{selector:".edge-direct-path",style:{width:5,color:i.black,"target-arrow-color":i.white,"z-index":100,label:function(e){return l.unit==="distance"?`${new Intl.NumberFormat().format(e.data("distance"))}km`:`${e.data("time-label")}`},"text-background-color":i.white,"text-background-opacity":1,"text-background-shape":"round-rectangle","text-background-padding":"5px","font-size":"20px","font-weight":"normal","line-fill":"linear-gradient","line-gradient-stop-colors":`${i.white}`}}];function d(e){return e.trim().replace(/\s+/g,"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase()}function P(e){const t=e.split(":");return+t[0]*60+ +t[1]}function _(e){const t=e.split(":"),I=+t[0]==0?"":`${+t[0]}h`,n=+t[1]==0?"":`${+t[1]}m`;return`${I} ${n}`}function H(e){const t=e/60,I=Math.floor(t),n=(t-I)*60,o=Math.round(n);return`${I}h ${o}m`}async function ee(){try{Y=await W(Z),A=await W(K),Q=ie(Y,A),J()}catch(e){throw new Error(e.message)}}async function W(e){const n=await(await fetch(e)).body.getReader().read(),u=new TextDecoder("utf-8").decode(n.value);return q.parse(u,{header:!1}).data}function ie(e,t){if(!e)return null;const I=[];for(let n=1;n<e.length;n++)j.push(d(e[0][n])),I.push({group:"nodes",data:{id:d(e[0][n]),label:e[0][n]}});for(let n=1;n<e.length;n++)for(let o=1;o<e.length;o++)n!==o&&I.push({group:"edges",data:{id:d(`${e[n][0]}-${e[0][o]}`),source:d(e[n][0]),target:d(e[0][o]),distance:parseInt(e[n][o]),time:P(t[n][o]),"time-label":_(t[n][o]),label:`${e[n][0]}-${e[0][o]}`}});return I}function J(){w=$({container:document.getElementById("cy"),elements:Q,style:[...G,...X,...R,...B],layout:{name:"concentric",minNodeSpacing:80}}),w.on("click","node",function(e){e.originalEvent.altKey&&(g===0||g===2?(e.target.removeClass("node-selected-start"),e.target.removeClass("node-selected-finish"),e.target.addClass("node-selected-start"),a.value=e.target.id(),a.dispatchEvent(new Event("input")),g=1):g===1&&(e.target.removeClass("node-selected-start"),e.target.removeClass("node-selected-finish"),e.target.addClass("node-selected-finish"),r.value=e.target.id(),r.dispatchEvent(new Event("input")),M.dispatchEvent(new Event("click")),g++))}),w.on("mouseover","node",function(e){e.originalEvent.shiftKey&&(e.target.addClass("node-selected-options"),w.edges("[source='"+e.target.id()+"']").addClass("edge-direct-path"))}),w.on("mouseout","node",function(e){e.target.removeClass("node-selected-options"),w.edges("[source='"+e.target.id()+"']").removeClass("edge-direct-path")})}function te(e,t){if(l.algorithm==="cyto-dijkstra"){const u=performance.now(),y=w.elements().dijkstra(`#${e}`,function(v){return v.data(`${l.unit}`)},!0);c=y.pathTo(w.$(`#${t}`)),p=performance.now()-u,N=y.distanceTo(w.$(`#${t}`))}else if(l.algorithm==="cyto-astar"){const u=performance.now(),y=w.elements().aStar({root:`#${e}`,goal:`#${t}`,weight:function(v){return v.data(`${l.unit}`)},directed:!0});p=performance.now()-u,c=y.path,N=y.distance}let I=0,n=500;function o(){I<c.length&&(c[I]._private.group==="nodes"&&(I===0?c[I].addClass("node-selected-start"):I===c.length-1?c[I].addClass("node-selected-finish"):c[I].addClass("node-selected")),c[I]._private.group==="edges"&&(c.length===3?c[I].addClass("edge-selected-unique"):I===1?c[I].addClass("edge-selected-start"):I===c.length-2?c[I].addClass("edge-selected-finish"):c[I].addClass("edge-selected")),I++,setTimeout(o,n))}o()}ee();
